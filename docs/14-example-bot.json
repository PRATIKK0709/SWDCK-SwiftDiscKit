{
  "title": "14 Example Bot",
  "content": "# Full Example Bot\n\nThis comprehensive example combines everything we've learned: events, slash commands, embeds, and components.\n\n```swift\nimport SWDCK\nimport Foundation\n\n@main\nstruct MyBot {\n    static func main() async throws {\n        // 1. Setup\n        let bot = DiscordBot(\n            token: \"YOUR_TOKEN\",\n            intents: .default | .messageContent | .guildMembers\n        )\n\n        // 2. Logging On Ready\n        bot.onReady { ready in\n            print(\"\ud83d\ude80 \\(ready.user.username) is online!\")\n        }\n\n        // 3. Simple Message Response\n        bot.onMessage { message in\n            guard !message.author.bot else { return }\n            \n            if message.content == \"!hello\" {\n                try await message.reply(\"Hello from the full example!\")\n            }\n        }\n\n        // 4. Slash Command with Embed & Button\n        let welcomeOptions = [\n            CommandOption(name: \"user\", description: \"The user to welcome\", type: .user, required: true)\n        ]\n        \n        bot.slashCommand(\"welcome\", description: \"Send a fancy welcome message\", options: welcomeOptions) { interaction in\n            let targetUser = interaction.option(\"user\")?.userValue\n            let username = targetUser?.username ?? \"unknown\"\n            \n            // Build a fancy embed\n            let embed = EmbedBuilder()\n                .setTitle(\"Welcome to the Server!\")\n                .setDescription(\"We are glad to have you here, \\(username)!\")\n                .setColor(0x5865F2) // Blurple\n                .setThumbnail(targetUser?.avatarURL?.absoluteString ?? \"\")\n                .build()\n            \n            // Add a button\n            let button = ComponentV2Button(style: .link, label: \"View Rules\", url: \"https://example.com/rules\")\n            let row = ComponentV2ActionRow(components: [.button(button)])\n            \n            // Respond\n            try await interaction.respond(\n                SendMessagePayload(embeds: [embed], components: [.actionRow(row)])\n            )\n        }\n\n        // 5. Moderation Command (Kick)\n        let kickOptions = [\n            CommandOption(name: \"user\", description: \"Member to kick\", type: .user, required: true),\n            CommandOption(name: \"reason\", description: \"Why?\", type: .string, required: false)\n        ]\n        \n        bot.slashCommand(\"kick\", description: \"Kick a member\", options: kickOptions) { interaction in\n            guard let guildId = interaction.guildId,\n                  let userId = interaction.option(\"user\")?.userValue?.id else { return }\n            \n            let reason = interaction.option(\"reason\")?.stringValue\n            \n            do {\n                try await bot.removeGuildMember(guildId: guildId, userId: userId, reason: reason)\n                try await interaction.respond(\"Successfully kicked the user.\", ephemeral: true)\n            } catch {\n                try await interaction.respond(\"Failed to kick: \\(error.localizedDescription)\", ephemeral: true)\n            }\n        }\n\n        // 6. Connect\n        try await bot.start()\n    }\n}\n```\n\n## What this bot does:\n1. **Identifies itself**: Logs to your console when it successfully connects.\n2. **Responds to `!hello`**: A classic text-based command.\n3. **`/welcome`**: Uses a **Slash Command**, creates a high-quality **Embed**, and attaches an **Action Row** with a **Button**.\n4. **`/kick`**: Shows how to use interaction options to perform **Moderation** actions and handle errors specifically for that user.\n\n---\n\n## Running the Example\n1. Add SWDCK to your project using SPM.\n2. Ensure `MESSAGE_CONTENT` and `GUILD_MEMBERS` intents are enabled in the portal.\n3. Replace `\"YOUR_TOKEN\"` with your actual token.\n4. Build and Run! \n\n> **Next:** [API Reference](./api-reference)\n"
}